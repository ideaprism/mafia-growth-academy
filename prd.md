# Mafia Growth Verse (마피아 연수원) - Product Requirements Document

## 1. Product Overview

### 1.1 Product Name
**Mafia Growth Verse (마피아 연수원)**

### 1.2 Product Vision
실리콘밸리 마피아를 컨셉으로 한 개인 성장 챌린지 앱으로, 모임 구성원들이 균형 잡힌 발전을 위해 5개 카테고리의 월간 챌린지를 수행하고 서로 응원하며 협업하는 플랫폼

### 1.3 Target Users
- 실리콘밸리 마피아 모임 구성원 (최대 20명)
- 사이드 프로젝트 공유 및 협업을 원하는 개발자/창업가들
- 개인 성장과 균형 잡힌 발전을 추구하는 사람들

## 2. Core Features

### 2.1 사용자 인증 시스템 ✅ **구현 완료**
- **간단한 로그인**: 이름과 마피아 패밀리명으로 로그인
- **세션 관리**: 로컬 스토리지 기반 사용자 정보 저장
- **로그아웃**: 간단한 로그아웃 기능
- **기존 사용자 복원**: 이름과 패밀리명으로 기존 사용자 자동 복원
- **사용자 중복 방지**: 이름과 패밀리명 기준 중복 사용자 감지 및 처리

### 2.2 챌린지 카테고리 시스템 ✅ **구현 완료**
#### 2.2.1 고정 카테고리 (4개)
- **운동 (Exercise)**: 월 7회 목표, 🏋️ 아이콘
- **글쓰기 (Writing)**: 월 7회 목표, ✍️ 아이콘
- **작업 (Work)**: 월 7회 목표, 💼 아이콘
- **맛집 (Food)**: 월 7회 목표, 🍽️ 아이콘

#### 2.2.2 커스터마이징 카테고리 (1개)
- **놀기 (Fun)**: 월 3회 목표, 🎮 아이콘, 개인별 커스터마이징 가능

### 2.3 인증 시스템 ✅ **구현 완료**
#### 2.3.1 인증창 UI/UX 개선 ✅ **최신 업데이트**
- **카테고리 선택**: 그리드 버튼에서 드롭다운 메뉴로 개선
- **드래그 앤 드롭**: 사진 업로드 영역에 완전한 드래그 앤 드롭 기능 구현
- **유효성 검사**: 필수 항목 누락 시 토스트 알림으로 사용자 친화적 피드백
- **폼 초기화**: 인증 완료 후 자동으로 모든 입력 필드 초기화
- **시각적 피드백**: 드래그 오버 시 노란색 테두리와 배경으로 상태 표시

#### 2.3.2 사진 인증
- 사진 업로드 기능 (JPG, PNG, WebP 지원)
- 자동 이미지 압축 (최대 1MB, 1024px 해상도 제한)
- 실시간 미리보기
- 드래그 앤 드롭 지원 ✅ **개선됨**
- 파일 크기 및 형식 검증 (최대 10MB)
- 이미지 파일 형식 검증 및 에러 처리 ✅ **추가됨**

#### 2.3.3 링크 인증
- URL 입력 및 검증
- 블로그, 유튜브 등 외부 링크 지원
- 링크 제한 없음
- 필수 입력 검증 및 토스트 알림 ✅ **추가됨**

### 2.4 시각화 시스템 ✅ **구현 완료**
#### 2.4.1 개인 진행도 시각화
- **5각형 레이더 차트**: 각 카테고리별 달성률 표시 (Recharts 기반)
- **실시간 업데이트**: 챌린지 완료 시 즉시 반영
- **목표 대비 달성률**: 백분율로 표시
- **카테고리 클릭 인터랙션**: 차트 클릭 시 상세 모달 표시

#### 2.4.2 통계 대시보드 ✅ **구현 완료**
- **카테고리별 참여 현황**: 전체 참여자 수 및 인증 횟수
- **월간 통계**: 이번 달 전체 활동 현황
- **참여자 순위**: 카테고리별 활발한 참여자 표시 (상위 5명)
- **사용자별 상세 현황**: 개별 사용자의 모든 인증 내역 조회
- **탭 기반 네비게이션**: 개인 진행상황, 커뮤니티, 통계 탭
- **전체 랭킹**: 평균 달성률 기준 전체 사용자 순위

### 2.5 데이터 관리 ✅ **구현 완료**
- **월단위 관리**: 매월 챌린지 초기화 (YYYY-MM 형식)
- **로컬 스토리지**: 클라이언트 사이드 데이터 저장
- **데이터 지속성**: 브라우저 세션 간 데이터 유지
- **데이터 구조화**: 사용자, 챌린지 데이터 타입 정의
- **유틸리티 함수**: ID 생성, 날짜 관리 등

### 2.6 관리자 기능 ❌ **미구현**
#### 2.6.1 두목 페이지 (BossPage)
- **데이터 통계**: 전체 사용자 수, 인증 수, 중복 데이터 현황
- **중복 데이터 정리**: 사용자 및 인증 데이터 중복 제거
- **데이터 백업**: 로컬/클라우드 데이터 상태 확인
- **사용자 관리**: 사용자별 인증 수 통계 및 관리

#### 2.6.2 데이터 정리 기능
- **자동 중복 감지**: 이름과 패밀리명 기준 중복 사용자 감지
- **데이터 정규화**: 패밀리명 통일 및 데이터 정리
- **테스트 데이터 로드**: 광교 구락부 샘플 데이터 자동 로드

## 3. Technical Requirements

### 3.1 Technology Stack ✅ **구현 완료**
- **Frontend**: React 18, TypeScript
- **Styling**: Tailwind CSS, shadcn/ui
- **Charts**: Recharts (레이더 차트)
- **Build Tool**: Vite
- **State Management**: React Hooks + Local Storage
- **Routing**: React Router DOM
- **Forms**: React Hook Form
- **Icons**: Lucide React
- **Query Management**: TanStack React Query
- **Image Processing**: browser-image-compression

### 3.2 Design System ✅ **구현 완료**
- **테마**: 마피아 컨셉 다크 테마
- **색상**: 골드 액센트 (#D4AF37), 다크 배경
- **아이콘**: Lucide React + 이모지 조합
- **반응형**: 모바일/데스크톱 지원
- **커스텀 CSS 변수**: 마피아 테마 전용 색상 및 그라디언트
- **애니메이션**: 골드 쉬머, 펄스 효과, 부드러운 전환
- **컴포넌트**: shadcn/ui 기반 일관된 UI 컴포넌트

### 3.3 Performance Requirements ✅ **구현 완료**
- **이미지 압축**: 업로드 시 자동 용량 최적화 (1MB 이하)
- **로딩 속도**: 3초 이내 초기 로딩
- **메모리 사용**: 효율적인 로컬 스토리지 관리
- **반응형 디자인**: 모바일/태블릿/데스크톱 최적화

## 4. User Experience

### 4.1 User Journey ✅ **구현 완료**
1. **로그인**: 이름/패밀리명 입력 → 기존 사용자 복원 또는 신규 가입
2. **대시보드 확인**: 개인 진행도 및 전체 통계 확인
3. **챌린지 수행**: 카테고리 선택 후 사진/링크로 인증
4. **진행도 확인**: 레이더 차트로 개인 성장 추적
5. **커뮤니티 확인**: 다른 참여자들의 활동 현황 확인

### 4.2 Key User Flows ✅ **구현 완료**
#### 4.2.1 챌린지 인증 플로우 ✅ **개선됨**
1. 카테고리 선택 (드롭다운 메뉴에서 선택) ✅ **UI 개선**
2. 인증 방식 선택 (사진/링크 탭)
3. 콘텐츠 업로드/입력 (완전한 드래그 앤 드롭 지원) ✅ **기능 강화**
4. 설명 추가 (선택사항)
5. 유효성 검사 (필수 항목 누락 시 토스트 알림) ✅ **추가됨**
6. 제출 및 확인 (토스트 알림)
7. 폼 자동 초기화 (다음 인증 준비) ✅ **추가됨**

#### 4.2.2 진행도 확인 플로우
1. 대시보드 접근
2. 레이더 차트 확인 (5각형 시각화)
3. 카테고리별 상세 현황 확인 (진행률 바)
4. 목표 대비 달성률 확인 (백분율 표시)

#### 4.2.3 커뮤니티 플로우
1. 커뮤니티 탭 접근
2. 전체 랭킹 확인 (상위 10명)
3. 카테고리별 랭킹 확인 (상위 5명)
4. 개인 순위 확인 (내 순위 하이라이트)

## 5. Business Requirements

### 5.1 Success Metrics ✅ **구현 완료**
- **참여율**: 월간 활성 사용자 수 (통계 탭에서 확인 가능)
- **완료율**: 카테고리별 목표 달성률 (레이더 차트 및 진행률 바)
- **인증 횟수**: 월간 총 인증 건수 (통계 탭에서 확인 가능)
- **리텐션**: 월 대비 재방문율 (세션 관리로 추적)
- **데이터 품질**: 사용자별 인증 현황 추적

### 5.2 Constraints ✅ **구현 완료**
- **사용자 수**: 최대 20명 제한 (로컬 스토리지 기반)
- **저장 공간**: 로컬 스토리지 제한 내에서 운영
- **네트워크**: 별도 백엔드 서버 없이 운영
- **브라우저 호환성**: 모던 브라우저 지원

## 6. Implementation Status

### 6.1 Completed Features ✅
- **사용자 인증 시스템**: 로그인/로그아웃, 세션 관리, 중복 사용자 처리
- **챌린지 카테고리 시스템**: 5개 카테고리 완전 구현 (운동, 글쓰기, 작업, 맛집, 놀기)
- **인증 시스템**: 사진/링크 업로드, 이미지 압축, 드래그 앤 드롭 ✅ **개선됨**
- **시각화 시스템**: 레이더 차트, 통계 대시보드, 진행률 표시
- **데이터 관리**: 로컬 스토리지, 월단위 관리, 데이터 구조화
- **UI/UX**: 마피아 테마, 반응형 디자인, 토스트 알림 ✅ **개선됨**
- **분석 시스템**: 사용자 진행도 계산, 랭킹 시스템, 통계 분석
- **인증창 UX 개선**: 드롭다운 메뉴, 완전한 드래그 앤 드롭, 유효성 검사, 폼 초기화 ✅ **최신 추가**

### 6.2 Current Development Status
- **MVP 완성**: 모든 핵심 기능 구현 완료
- **로컬 모드**: LocalStorage 기반 완전 동작
- **데이터 분석**: 실시간 통계 및 랭킹 시스템
- **사용자 경험**: 직관적인 UI/UX 구현
- **인증창 개선**: 드롭다운 메뉴, 드래그 앤 드롭, 유효성 검사, 폼 초기화 완료 ✅ **최신 업데이트**
- **개발 서버**: Vite 개발 서버 (포트 8084)에서 안정적 실행 중

### 6.3 Missing Features ❌
- **관리자 기능**: 두목 페이지 및 데이터 정리 기능
- **Firebase 연동**: 클라우드 데이터베이스 지원
- **데이터 마이그레이션**: 로컬 → 클라우드 자동 전환
- **테스트 데이터**: 샘플 데이터 자동 로드 기능

## 7. Future Enhancements

### 7.1 Phase 2 Features
- **관리자 기능**: 두목 페이지 구현 및 데이터 관리 도구
- **백엔드 연동**: Firebase Firestore 실시간 데이터 동기화
- **알림 시스템**: 챌린지 리마인더
- **소셜 기능**: 댓글, 좋아요, 응원 메시지

### 7.2 Phase 3 Features
- **팀 챌린지**: 그룹 단위 협업 챌린지
- **뱃지 시스템**: 성취도별 뱃지 부여
- **데이터 분석**: 개인 성장 패턴 분석
- **모바일 앱**: React Native 기반 모바일 앱

## 8. Risk Management

### 8.1 Technical Risks ✅ **대부분 해결됨**
- **데이터 손실**: 로컬 스토리지 기반 안정적 데이터 저장
- **브라우저 호환성**: 모던 브라우저에서 안정적 동작 확인
- **이미지 처리**: 클라이언트 사이드 이미지 압축 구현

### 8.2 Mitigation Strategies ✅ **구현 완료**
- **데이터 백업**: 로컬 스토리지 기반 안정적 저장
- **브라우저 테스트**: 주요 브라우저에서의 호환성 테스트
- **이미지 최적화**: 클라이언트 사이드 이미지 압축 라이브러리 활용
- **사용자 경험**: 직관적인 UI/UX로 사용성 향상

## 9. Deployment & Infrastructure

### 9.1 Current Deployment ✅ **구현 완료**
- **개발 환경**: Vite 개발 서버 (포트 8084) ✅ **업데이트됨**
- **빌드 시스템**: Vite 기반 프로덕션 빌드
- **정적 호스팅**: Vercel 배포 지원
- **환경 설정**: TypeScript, ESLint, Tailwind CSS 설정 완료
- **실시간 개발**: Hot Module Replacement (HMR) 지원으로 빠른 개발 환경

### 9.2 Data Architecture ✅ **구현 완료**
- **로컬 모드**: LocalStorage 기반 데이터 저장
- **데이터 구조**: 사용자(User), 챌린지(Challenge), 카테고리(Category) 타입 정의
- **분석 시스템**: 사용자 진행도, 월간 통계, 랭킹 시스템
- **유틸리티**: ID 생성, 날짜 관리, 데이터 검증

### 9.3 Missing Infrastructure ❌
- **클라우드 모드**: Firebase Firestore 실시간 데이터베이스
- **마이그레이션**: 로컬 → 클라우드 자동 전환
- **관리자 도구**: 데이터 관리 및 정리 기능

## 10. Recent Development Updates

### 10.1 Latest Improvements (2024년 12월)
#### 10.1.1 인증창 UX/UI 대폭 개선 ✅ **완료**
- **카테고리 선택 개선**: 그리드 버튼에서 직관적인 드롭다운 메뉴로 변경
- **드래그 앤 드롭 완전 구현**: 사진 업로드 영역에 완전한 드래그 앤 드롭 기능 추가
- **유효성 검사 강화**: 필수 항목 누락 시 사용자 친화적인 토스트 알림 제공
- **폼 자동 초기화**: 인증 완료 후 모든 입력 필드 자동 초기화로 연속 인증 가능
- **시각적 피드백**: 드래그 오버 시 노란색 테두리와 배경으로 상태 표시

#### 10.1.2 기술적 개선사항
- **React Hooks 최적화**: useCallback, useRef 활용으로 성능 개선
- **에러 처리 강화**: 이미지 파일 형식 검증 및 적절한 에러 메시지
- **사용자 경험 향상**: 토스트 알림 시스템을 통한 즉각적인 피드백
- **코드 품질**: TypeScript 타입 안정성 및 컴포넌트 재사용성 향상

#### 10.1.3 개발 환경 업데이트
- **포트 변경**: 개발 서버가 포트 8084에서 실행 중 (포트 충돌 해결)
- **HMR 지원**: Hot Module Replacement로 빠른 개발 환경 제공
- **안정성 향상**: 모든 기능이 안정적으로 동작하는 상태

### 10.2 Next Development Priorities
- **관리자 기능**: 두목 페이지 및 데이터 관리 도구 구현
- **Firebase 연동**: 클라우드 데이터베이스 지원 추가
- **모바일 최적화**: 모바일 디바이스에서의 사용성 추가 개선
- **성능 최적화**: 대용량 데이터 처리 및 렌더링 성능 개선

---